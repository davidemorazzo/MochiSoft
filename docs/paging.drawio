<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36 Edg/133.0.0.0" version="26.0.16" pages="2">
  <diagram name="Page-2" id="4AFyXW5LHkHdHGufDJnh">
    <mxGraphModel dx="2303" dy="863" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="R--mif7dw4f2BJI1_KU_-18" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="R--mif7dw4f2BJI1_KU_-4" target="R--mif7dw4f2BJI1_KU_-2" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="400" as="sourcePoint" />
            <mxPoint x="340" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-19" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-4" target="R--mif7dw4f2BJI1_KU_-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270" y="330" as="sourcePoint" />
            <mxPoint x="320" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-22" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-9" target="R--mif7dw4f2BJI1_KU_-15" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="270" y="285" as="sourcePoint" />
            <mxPoint x="320" y="235" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-24" value="kernel&lt;div&gt;.bss&lt;br&gt;&lt;div&gt;.data&lt;/div&gt;&lt;/div&gt;&lt;div&gt;.text&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-550" y="450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-26" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="R--mif7dw4f2BJI1_KU_-23" target="R--mif7dw4f2BJI1_KU_-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="210" y="310" as="sourcePoint" />
            <mxPoint x="260" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-29" value="0xFFFFFFFF" style="whiteSpace=wrap;html=1;shadow=1;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="470" y="30" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-31" value="unmapped" style="whiteSpace=wrap;html=1;dashed=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="110" width="120" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-30" value="0xC0800000" style="whiteSpace=wrap;html=1;shadow=1;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="470" y="220" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-15" value="heap kernel" style="whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="470" y="240" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-1" value="kernel&lt;div&gt;.bss&lt;br&gt;&lt;div&gt;.data&lt;/div&gt;&lt;/div&gt;&lt;div&gt;.text&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="470" y="290" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-2" value="0xBFFFFFFF" style="whiteSpace=wrap;html=1;shadow=1;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="470" y="350" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-32" value="8MB" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;" parent="1" vertex="1">
          <mxGeometry x="600" y="240" width="20" height="110" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-37" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-38" target="R--mif7dw4f2BJI1_KU_-9" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="130" y="230" as="sourcePoint" />
            <mxPoint x="180" y="180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-36" value="__kernel_heap_brk" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-210" y="200" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-39" value="__kernel_stack_top" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-210" y="80" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-40" value="0x40000000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="80" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-41" value="physical&lt;div&gt;kernel_stack&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-90" y="100" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-43" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-41" target="R--mif7dw4f2BJI1_KU_-52" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="110" as="sourcePoint" />
            <mxPoint x="170" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="R--mif7dw4f2BJI1_KU_-41" target="R--mif7dw4f2BJI1_KU_-42" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="120" y="110" as="sourcePoint" />
            <mxPoint x="170" y="60" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-47" value="stack kernel" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="470" y="50" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-49" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-55" target="R--mif7dw4f2BJI1_KU_-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="230" y="130" as="sourcePoint" />
            <mxPoint x="280" y="80" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-51" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;strokeWidth=3;" parent="1" source="R--mif7dw4f2BJI1_KU_-42" target="R--mif7dw4f2BJI1_KU_-47" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="250" y="180" as="sourcePoint" />
            <mxPoint x="330" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-42" value="page_table_1023" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="160" y="180" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-53" value="Map by bootloader" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;align=left;" parent="1" vertex="1">
          <mxGeometry x="110" y="10" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-54" value="Map at runtime by kernel" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;align=left;" parent="1" vertex="1">
          <mxGeometry x="110" y="30" width="150" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-55" value="page_table_1022" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="160" y="200" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-52" value="" style="whiteSpace=wrap;html=1;dashed=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="220" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-9" value="page_table_769" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="160" y="280" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-4" value="page_table_768" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="160" y="300" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-58" value="" style="whiteSpace=wrap;html=1;dashed=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="160" y="320" width="110" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-59" value="" style="whiteSpace=wrap;html=1;dashed=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="150" width="120" height="50" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-38" value="0x00800000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="200" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-34" value="physical&lt;div&gt;kernel_heap&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-90" y="220" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-33" value="__kernel_end" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="300" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-23" value="kernel&lt;div&gt;.bss&lt;br&gt;&lt;div&gt;.data&lt;/div&gt;&lt;/div&gt;&lt;div&gt;.text&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="-90" y="320" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-60" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;width=20;endSize=6.4125;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="214.38" y="479" as="sourcePoint" />
            <mxPoint x="214.38" y="529" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-61" value="Richiede 4*1024 entries= 16384 B da&amp;nbsp;&lt;div&gt;allocare nella&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&amp;nbsp;sezione .data&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="120" y="530" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-63" value="" style="endArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.75;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;curved=1;" parent="1" source="R--mif7dw4f2BJI1_KU_-23" target="R--mif7dw4f2BJI1_KU_-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="220" y="300" as="sourcePoint" />
            <mxPoint x="270" y="250" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-140" y="365" />
              <mxPoint x="-140" y="460" />
              <mxPoint x="160" y="460" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-64" value="" style="endArrow=classic;html=1;rounded=0;entryX=1;entryY=1;entryDx=0;entryDy=0;exitX=0;exitY=0.5;exitDx=0;exitDy=0;edgeStyle=orthogonalEdgeStyle;curved=1;" parent="1" source="R--mif7dw4f2BJI1_KU_-23" target="R--mif7dw4f2BJI1_KU_-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-80" y="375" as="sourcePoint" />
            <mxPoint x="170" y="410" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-170" y="350" />
              <mxPoint x="-170" y="490" />
              <mxPoint x="270" y="490" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-65" value="kernel.data" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-70" y="458" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-68" value="page_table_0" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="160" y="380" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-3" value="page_dir_kernel" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="1" vertex="1">
          <mxGeometry x="160" y="400" width="110" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-70" value="0x00001000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="380" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-71" value="I/O" style="whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="400" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-25" value="0x00000000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="-90" y="430" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-72" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-25" target="R--mif7dw4f2BJI1_KU_-3" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="90" y="330" as="sourcePoint" />
            <mxPoint x="140" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-73" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-71" target="R--mif7dw4f2BJI1_KU_-68" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="70" y="390" as="sourcePoint" />
            <mxPoint x="120" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-74" value="unmapped" style="whiteSpace=wrap;html=1;dashed=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="370" width="120" height="160" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-75" value="0x00001000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="530" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-76" value="I/O" style="whiteSpace=wrap;html=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="550" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-77" value="0x00000000" style="whiteSpace=wrap;html=1;fontStyle=1;shadow=1;" parent="1" vertex="1">
          <mxGeometry x="470" y="580" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-78" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-68" target="R--mif7dw4f2BJI1_KU_-76" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="360" y="570" as="sourcePoint" />
            <mxPoint x="490" y="520" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="R--mif7dw4f2BJI1_KU_-79" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" parent="1" source="R--mif7dw4f2BJI1_KU_-3" target="R--mif7dw4f2BJI1_KU_-77" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="240" y="520" as="sourcePoint" />
            <mxPoint x="370" y="470" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="Page-1" id="nq6wcuWfMMHOWpqy7l_E">
    <mxGraphModel dx="2777" dy="1515" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EMXOts7WUYQBxqCJgTsc-84" value="" style="whiteSpace=wrap;html=1;dashed=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="350" width="120" height="150" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-83" value="Enable Paging" style="whiteSpace=wrap;html=1;verticalAlign=top;textShadow=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="690" y="600" width="380" height="110" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-67" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-1" target="EMXOts7WUYQBxqCJgTsc-63">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="360" y="530" />
              <mxPoint x="360" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-1" value="0x00000000" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="160" y="510" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-2" value="0x00100000&lt;div&gt;...&lt;/div&gt;" style="whiteSpace=wrap;html=1;verticalAlign=top;align=center;" vertex="1" parent="1">
          <mxGeometry x="160" y="440" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-5" target="EMXOts7WUYQBxqCJgTsc-42">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="440" />
              <mxPoint x="480" y="350" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-5" target="EMXOts7WUYQBxqCJgTsc-65">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="365" y="440" />
              <mxPoint x="365" y="470" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-5" value="__kernel_start" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="160" y="420" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-6" value="kernel&lt;div&gt;.bss&lt;/div&gt;&lt;div&gt;.data&lt;/div&gt;&lt;div&gt;.text&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="160" y="340" width="140" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-7" target="EMXOts7WUYQBxqCJgTsc-54">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="220" />
              <mxPoint x="480" y="140" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-7" value="__kernel_stack_top&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;__kernel_heap_bottom&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="160" y="220" width="140" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-11" value="__kernel_end" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="160" y="320" width="140" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-13" value="Kernel&lt;div&gt;image&lt;/div&gt;" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;" vertex="1" parent="1">
          <mxGeometry x="130" y="340" width="20" height="80" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-15" value="Physical memory" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="175" y="530" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-16" value="__kernel_start = 0xC0000000" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="930" y="330" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-17" value="kernel&lt;div&gt;.bss&lt;/div&gt;&lt;div&gt;.data&lt;/div&gt;&lt;div&gt;.text&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="260" width="280" height="70" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-18" value="__kernel_end = __kernel_start + __kernel_size" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="930" y="240" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-19" value="__kernel_stack_top = 0xFFFFFFFF&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;__kernel_heap_bottom&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="930" y="140" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-20" value="User space memory&lt;div&gt;...&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="350" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-21" value="I/O identity mapping" style="whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="930" y="470" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-22" value="0x00000000" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="930" y="510" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-23" value="0x00100000 (??)" style="rounded=0;whiteSpace=wrap;html=1;align=left;fontStyle=3" vertex="1" parent="1">
          <mxGeometry x="930" y="450" width="280" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-24" value="Virtual memory" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="1020" y="540" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-25" value="Virtual memory address" style="rounded=0;whiteSpace=wrap;html=1;textShadow=0;shadow=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="860" width="320" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-26" target="EMXOts7WUYQBxqCJgTsc-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="170" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-38" value="31-22" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EMXOts7WUYQBxqCJgTsc-30">
          <mxGeometry x="-0.8945" relative="1" as="geometry">
            <mxPoint x="-20" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-39" value="21-12" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EMXOts7WUYQBxqCJgTsc-30">
          <mxGeometry x="-0.8945" relative="1" as="geometry">
            <mxPoint x="80" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-40" value="11-0" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="EMXOts7WUYQBxqCJgTsc-30">
          <mxGeometry x="-0.8945" relative="1" as="geometry">
            <mxPoint x="190" y="-11" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-26" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=-90;horizontal=0;textDirection=vertical-rl;" vertex="1" parent="1">
          <mxGeometry x="160" y="840" width="20" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-27" target="EMXOts7WUYQBxqCJgTsc-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="270" y="980" />
              <mxPoint x="460" y="980" />
              <mxPoint x="460" y="1208" />
              <mxPoint x="490" y="1208" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-27" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="260" y="840" width="20" height="100" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.1;exitY=0.5;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-28" target="EMXOts7WUYQBxqCJgTsc-35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="380" y="938" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-28" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;labelPosition=left;verticalLabelPosition=middle;align=right;verticalAlign=middle;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="370" y="830" width="20" height="120" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-29" target="EMXOts7WUYQBxqCJgTsc-31">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="490" y="1250" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-29" value="Page directory" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="270" y="1070" width="120" height="240" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-31" target="EMXOts7WUYQBxqCJgTsc-35">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="690" y="1208" />
              <mxPoint x="690" y="1050" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-31" value="Page table" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="490" y="1080" width="120" height="170" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-35" value="4KiB&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;div&gt;Page&lt;/div&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;0 KiB&lt;/div&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="760" y="900" width="149" height="150" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-41" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Virtual addr &amp;lt;=&amp;gt; Physical addr&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;void * phys_addr(void * virt_addr){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;extern void * page_dir_base;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;void * page_table_base = (page_dir_base + (virt_addr &amp;gt;&amp;gt; 22)) &amp;amp; 0xFFFF000;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;void * page_base = (page_table_base + ((virt_addr &amp;gt;&amp;gt; 12) &amp;amp; 0x3FF)) &amp;amp; 0xFFFFF000;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;return page_base + (virt_addr &amp;amp; 0xFFF);&lt;br&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;void * virt_addr(void * phys_addr){&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#x9;&lt;/span&gt;// TODO&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;fillColor=default;strokeColor=default;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="1040" y="880" width="670" height="300" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-42" value="entry_768" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="320" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-52" value="entry_..." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="210" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-53" value="entry_..." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="170" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-54" value="entry_1024" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="140" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-79" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-60" target="EMXOts7WUYQBxqCJgTsc-78">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-60" value="entry_1" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="500" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-69" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=1;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-63" target="EMXOts7WUYQBxqCJgTsc-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="530" />
              <mxPoint x="610" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-63" value="pt0" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="510" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-64" value="pt..." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="490" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-70" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0;entryDx=0;entryDy=0;curved=1;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-65" target="EMXOts7WUYQBxqCJgTsc-60">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="610" y="470" />
              <mxPoint x="610" y="500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-65" value="pt255" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="430" y="470" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-71" value="entry_..." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="240" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-72" value="entry_..." style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="680" y="280" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-73" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-54" target="EMXOts7WUYQBxqCJgTsc-19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="820" y="320" as="sourcePoint" />
            <mxPoint x="870" y="270" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-74" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-42" target="EMXOts7WUYQBxqCJgTsc-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="779" y="360" as="sourcePoint" />
            <mxPoint x="909" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-76" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=1;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-60" target="EMXOts7WUYQBxqCJgTsc-23">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="790" y="450" as="sourcePoint" />
            <mxPoint x="920" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-77" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=0;exitX=1;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-60" target="EMXOts7WUYQBxqCJgTsc-22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="800" y="510" as="sourcePoint" />
            <mxPoint x="940" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-78" value="CR3" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="890" y="630" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-80" value="CR0" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="890" y="660" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-82" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-81" target="EMXOts7WUYQBxqCJgTsc-80">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-81" value="0x80000001" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="730" y="660" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-86" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="EMXOts7WUYQBxqCJgTsc-85" target="EMXOts7WUYQBxqCJgTsc-29">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="250" y="1310" />
              <mxPoint x="250" y="1310" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-85" value="CR3" style="rounded=0;whiteSpace=wrap;html=1;shadow=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="55" y="1300" width="120" height="20" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-88" value="Array" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="300" y="1310" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-89" value="Array" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="525" y="1250" width="50" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-90" value="Physical memory" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;fontStyle=4" vertex="1" parent="1">
          <mxGeometry x="779.5" y="1050" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="EMXOts7WUYQBxqCJgTsc-91" value="&lt;h1 style=&quot;margin-top: 0px;&quot;&gt;Map / Unmap pages&lt;/h1&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;typedef struct{&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;} PDE;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;typedef struct{&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;} PTE;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int paging_map_pages(PDE *pd_base, void *phys_addr, void *virt_addr, size_t page_count){&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;if ((0xFFFFFFFF - phys_addr) &amp;lt; (page_count*4096) ||&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;(0xFFFFFFFF - virt_addr) &amp;lt; (page_count*4096)) {&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;/* Memory overflow */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;return -1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;unsigned int pd_offset = (virt_addr&amp;amp;FFFFF000) / 0x400000;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;unsigned int pt_offset = (virt_addr&amp;amp;FFFFF000) % 0x400000;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;void *_phys_addr = phys_addr &amp;amp; 0xFFFFF000;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;for (unsigned int idx_PDE = pd_offset; (idx_PDE&amp;lt;1024) &amp;amp;&amp;amp; page_count&amp;gt;0; idx_PDE++){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;PDE *ptr_PDE = pd_base + idx_PDE;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;for (unsigned int idx_PTE = pt_offset; (idx_PTE&amp;lt;1024) &amp;amp;&amp;amp; page_count&amp;gt;0; idx_PTE++){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;if (ptr_PDE-&amp;gt;addr == NULL){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;ptr_PDE-&amp;gt;addr = (PTE *)malloc(1024*sizeof(PTE));&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;if (ptr_PDE == NULL){&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;return -1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;PTE *ptr_PTE = ptr_PDE-&amp;gt;addr + idx_PTE;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;ptr_PTE-&amp;gt;addr = _phys_addr;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;ptr_PTE-&amp;gt;p = 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;ptr_PTE-&amp;gt;rw = 1;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;_phys_addr += 4096;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&#x9;&lt;/span&gt;page_count--;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&#x9;&lt;/span&gt;pt_offset = 0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;}&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;return 0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int paging_unmap_pages(PDE *pd_base, void *virt_addr, size_t page_count){&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;return 0;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int main (void){&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;PDE page_dir[1024];&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;/* Map kernel to 0xC0000000 */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;size_t __kernel_size = &amp;amp;__kernel_end - &amp;amp;__kernel_start;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;paging_map_pages(page_dir, &amp;amp;__kernel_start, 0xC0000000, __kernel_size/4096+1);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;paging_map_pages(page_dir, &amp;amp;__kernel_start, &amp;amp;_kernel_start, __kernel_size/4096+1);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;/* Identity map first 1 MB =&amp;gt; 0x100000 / 0x1000 = 256 */&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;paging_map_pages(page_dir, 0x0, 0x0, 256);&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;/*&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;jump to higher half&amp;nbsp;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;...&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;*/&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;CR3 = page_dir;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;CR0 = 0x80000001;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: pre; white-space: normal;&quot;&gt;&#x9;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;paging_unmap_pages(page_dir, &amp;amp;_kernel_start, __kernel_size); &lt;span style=&quot;white-space:pre&quot;&gt;&#x9;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;html=1;whiteSpace=wrap;overflow=hidden;rounded=0;fillColor=default;strokeColor=default;fontFamily=Lucida Console;" vertex="1" parent="1">
          <mxGeometry x="1850" y="100" width="920" height="1000" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
